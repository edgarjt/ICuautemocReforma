<h2 mat-dialog-title>Agregar carrera, materia y semestre al plan</h2>
<mat-dialog-content>
  <form (ngSubmit)="onSubmit()" [formGroup]="addPlanForm">
    <mat-form-field class="w-100" *ngIf="carreras">
      <mat-label>Carrera</mat-label>
      <mat-select formControlName="car_id"
                  [ngClass]="{ 'is-invalid': submitted && form.car_id.errors }" required>
        <mat-option *ngFor="let carrera of carreras" [value]="carrera.car_id">
          {{carrera.car_nombre}}
        </mat-option>
      </mat-select>

      <mat-error *ngIf="submitted && form.car_id.errors" class="">
        <div *ngIf="addPlanForm.controls.car_id.errors.required">Seleccione una carrera</div>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="w-100" *ngIf="semestres">
      <mat-label>Semestre</mat-label>
      <mat-select formControlName="sem_id"
                  [ngClass]="{ 'is-invalid': submitted && form.sem_id.errors }" required>
        <mat-option *ngFor="let semestre of semestres" [value]="semestre.sem_id">
          {{semestre.sem_nombre}}
        </mat-option>
      </mat-select>

      <mat-error *ngIf="submitted && form.sem_id.errors" class="">
        <div *ngIf="addPlanForm.controls.sem_id.errors.required">Seleccione un semestre</div>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="w-100" *ngIf="materias">
      <mat-label>Materia</mat-label>
      <mat-select formControlName="mat_id"
                  [ngClass]="{ 'is-invalid': submitted && form.mat_id.errors }" required>
        <mat-option *ngFor="let materia of materias" [value]="materia.mat_id">
          {{materia.mat_nombre}}
        </mat-option>
      </mat-select>

      <mat-error *ngIf="submitted && form.mat_id.errors" class="">
        <div *ngIf="addPlanForm.controls.mat_id.errors.required">Seleccione una materia</div>
      </mat-error>
    </mat-form-field>

    <div class="form-group">
      <div class="spinner-border text-primary" role="status" *ngIf="load">
        <span class="sr-only">Loading...</span>
      </div>
    </div>

    <div class="form-group">
      <button mat-flat-button color="primary" [disabled]="disableButton">Guardar</button>
      <button mat-flat-button class="bg-danger text-white ml-2" mat-dialog-close="">Cerrar</button>
    </div>
  </form>
</mat-dialog-content>
